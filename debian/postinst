#!/bin/bash
# postinst script for #PACKAGE#

case "$1" in
    configure)

      print_exit() {
        echo "${1}"
        exit 1
      }

      NAME="mutant-example"
      BIN="/usr/bin"

      if [ ! -f "/usr/lib/x86_64-linux-gnu/libruby.so.2.0" ] && [ -f "/usr/lib/x86_64-linux-gnu/libruby-2.0.so.2.0" ]; then
        ln -s /usr/lib/x86_64-linux-gnu/libruby-2.0.so.2.0 /usr/lib/x86_64-linux-gnu/libruby.so.2.0
      fi

      # path_nginx="/etc/nginx/sites-"
      # if [ ! -f "${path_nginx}enabled/${NAME}" ] && [ -f "${path_nginx}available/${NAME}" ]; then
      #   ln -s ${path_nginx}available/${NAME} ${path_nginx}enabled/ && /etc/init.d/nginx restart
      # fi

      # if [ ! -f "${path_nginx}enabled/${NAME}-ssl" ] && [ -f "${path_nginx}available/${NAME}-ssl" ]; then
      #   ln -s ${path_nginx}available/${NAME}-ssl ${path_nginx}enabled/ && /etc/init.d/nginx restart
      # fi

      chown -R ${NAME}. /var/www/${NAME}

    #   if [ "${RAILS_ENV}" == "production" ]; then
    #     echo 'Processing CF-Engine to update the production config files'
    #     cf-agent -KIB > /dev/null 2>&1 && cf-agent -KI > /dev/null 2>&1
    #   fi

    #   if [ "${RAILS_ENV}" != "production" ]; then
    #     echo 'Restarting app'
    #     /etc/init.d/iaas-api stop
    #     sleep 10
    #     /etc/init.d/iaas-api start
    #   fi
    # ;;

    # abort-upgrade|abort-remove|abort-deconfigure)
    ;;

    *)
      echo "postinst called with unknown argument \`$1'" >&2
      exit 1
    ;;
esac

# dh_installdeb will replace this with shell code automatically
# generated by other debhelper scripts.

#DEBHELPER#

exit 0
